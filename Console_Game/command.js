import{pStyle as e,textColor as t,primaryFont as o,fontSize as n}from"./prefs.js";import s from"./thesaurus.js";import a from"./maps.js";var r;const i=t=>{const n=e=>{let o={x:t.state.position.x,y:t.state.position.y,z:t.state.position.z};switch(e){case"north":o.y=o.y-1;break;case"south":o.y=o.y+1;break;case"east":o.x=o.x+1;break;case"west":o.x=o.x-1;break;case"up":o.z=o.z+1;break;case"down":o.z=o.z-1;break;default:break}if(a[o.z][o.y][o.x]==="*"){return console.p("You can't go that direction")}console.p(`You walk ${e}...`);t.state.position={x:o.x,y:o.y,z:o.z};return t.describeSurroundings()};const i=e=>{return t.describeSurroundings()};const c=e=>{t.state.objectMode=true;t.state.pendingAction=e;return console.p(`What is it you would like to ${e}?`)};const l=n=>{t.state.prefMode=true;t.state.pendingAction=n;const s=`font-size:120%;color:#32cd32;font-style:italic;font-family:${o}`;const a=`font-size:120%;color:#32cd32;font-style:bold;font-family:${o}`;const r=`font-size:120%;color:#7BF65E;font-weight:bold;font-family:${o}`;const i=`font-size:120%;color:#7BF65E;font-style:italic;font-weight:bold;font-family:${o}`;console.p(`Enter value for ${n}.`);console.inline([`Value must be entered`,` within parentheses (and quotes, if the value is a string), and immediately preceded by an underscore.`],[e,s]);return console.inline([`Like this:  `,`_(`,`"value"`,`)`],[a,r,i,r])};const u=()=>{return console.p("Time passes...")};const p=o=>{let n=[],s=[];t.state.inventory.map(e=>{n.push(e.name);const t=e.article?`${e.article} ${e.name}`:e.name;s.push(t)});let a=`You are carrying ${t.formatList(s)}`.split(" ");let r=`font-size:120%;color:cyan;font-style:italic;`;let i=a.map(t=>{let o=e;n.map(e=>{if(t.includes(e)){o=r}});return o});a=a.map((e,t)=>{return t===a.length-1?`${e}.`:`${e} `});return console.inline(a,i)};const d=e=>{const o=t.state.inventory.map(e=>{const{name:t,description:o}=e;return{name:t,description:o}});return console.table(o,["name","description"])};const f=e=>{if(!t.state.objectMode){return console.p("Invalid command")}const o=t.inEnvironment(e)||t.inInventory(e);if(!o){return console.p(`${e} is not available`)}const n=t.state.pendingAction;return o[n]()};const v=()=>{const e=document.querySelector("body");e.parentNode.removeChild(e);return console.papyracy(">poof<")};const m=t._start;const y=t._help;const S=t._commands;const h=t._restore;const b=t._save;const _=t._save_slot;const z=t._quit;const $=t.cases;const g=(e,t=null,o="")=>{let n=[];if(t){const o=t[e]||[];n=o.filter(e=>{if(e.indexOf(" ")===-1){return $(e)}})}return`${$(e)},${n.join()}${o?","+o:""}`};const E=[[m,$("start","resume")],[n,$("north")+",n,N"],[n,$("south")+",s,S"],[n,$("east")+",e,E"],[n,$("west")+",w,W"],[n,$("up")+",u,U"],[n,$("down")+",d,D"],[u,$("wait")+",z,Z"],[i,$("look","see","observe")+",l,L"],[p,$("inventory")+",i,I"],[c,g("use",s)],[c,g("take",s)],[c,g("read",s)],[c,g("examine",s,"x,X")],[c,g("drink",s)],[c,g("drop",s)],[c,g("pull",s)],[c,g("spray",s)],[c,g("contemplate",s)],[c,$("hide")],[f,$("grue_repellant","repellant")],[f,$("key")],[f,g("note",s)],[f,$("no_tea")],[f,$("chain")],[f,g("glove",s)],[f,$("catalogue","catalog")],[f,$("all")],[d,$("inventoryTable","invTable","invt")],[y,$("help")+",h,H"],[S,$("commands")+",c,C"],[b,$("save")],[_,"_0,save0,Save0,SAVE0"],[_,"_1,save1,Save1,SAVE1"],[_,"_2,save2,Save2,SAVE2"],[_,"_3,save3,Save3,SAVE3"],[_,"_4,save4,Save4,SAVE4"],[_,"_5,save5,Save5,SAVE5"],[_,"_6,save6,Save6,SAVE6"],[_,"_7,save7,Save7,SAVE7"],[_,"_8,save8,Save8,SAVE8"],[_,"_9,save9,Save9,SAVE9"],[h,$("restore","load")],[l,$("font")],[l,$("color")],[l,$("size")],[v,$("poof")],[z,$("quit")],[z,$("restart")]];r=E;return E};export default i;